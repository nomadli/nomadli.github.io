---
layout: post
title:  "GO 语言"
date:   2016-04-08 09:01:00
categories: Server
excerpt: GO 语法。
---

* content
{:toc}

## 安装手机开发支出
01. .bash_profile export http_proxy https_proxy ...
02. go get golang.org/x/mobile/cmd/gomobile
03. gomobile init
04. 原生开发、兼容开发有限制 

## 原生开发 Android
01. gomobile build -target=android xx/xx/xxx
02. gomobile install xx/xx/xxx
03. 例子 go get -d golang.org/x/mobile/example/basic
04. 做动态库可以直接在Android Studio里面编译 

## 原生开发 IOS
01. gomobile build -target=ios xx/xx/xxx
02. ios-deploy https://github.com/phonegap/ios-deploy
03. ios-deploy -b xxx.app
04. 例子 go get -d golang.org/x/mobile/example/basic 
05. 作为库 gomobile bind -target=ios xx/xx/xx 

## 兼容开发 Android
01. android studio
02. build.gradle 配置
03. 例子 go get -d golang.org/x/mobile/example/bind/android

## 兼容开发 IOS
01. gomobile bind -target=ios xx/xx/xxx 生成framework
02. 例子 go get -d golang.org/x/mobile/example/bind/ios

## 跨平台
01. CGO_ENABLED=0 GOOS=windows GOARCH=amd64 go build
02. CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build
03. darwin、freebsd、linux、windows 386、amd64、arm

## 语法
01. obj.(interface_name) 强制转为某种interface类型
02. func init() 在main 

## 监控
01. net/http/pprof http://localhost:port/debug/pprof/
02. go tool pprof http://localhost:port/debug/pprof/
03. runtime/pprof
04. pprof.StartCPUProfile(f)
05. pprof.StopCPUProfile()
06. pprof.Lookup("heap")
07. pprof.Lookup("threadcreate")
08. pprof.Lookup("block")
09. pprof.WriteHeapProfile(f)
10. pprof.StopHeapProfile()
11. GOGCTRACE=1
