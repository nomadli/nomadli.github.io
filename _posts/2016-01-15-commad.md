---
layout: post
title:  "常用命令"
date:   2016-01-15 11:28:00
categories: other
excerpt: 常用命令。
---

* content
{:toc}

## linux
01. top 显示当前运行的进程信息
02. scp 服务器文件同步
03. mpstat cpu分片情况
04. netstat 网络信息
05. dmesg 硬件驱动、丢包等问题
06. stap perf 系统分析性能分析
07. sar 显示cpu、内存、网络历史情况
08. /proc/* ... 现场调试
09. ldd 检查共享库
10. strace ltrace 查看程序运行失败、冻结、奔溃后堆栈等信息
11. wireshark tshark 网络调试
12. iftop nethogs 查看端口或进程占用的带宽
13. mtr traceroute 查看网络问题
14. free vmstat 查看内存状态
15. iostat netstat top atop htop dstat 查看系统状态
16. split csplit分割文件
17. strings grep 在二进制文件中查找文本
18. hd bvi 16进制抽取、二进制编辑
19. sort 排序
20. shuf 从文件中随机选一些行
21. awk sed 复杂数据替换修改
22. lsof netstat -lntp 查询进程监听端口、文件等
23. nohup disown screen tmux 后台运行
24. pgrep pkill pstree -p 进程操作
25. parallel 并行执行任务
26. xargs 模拟执行脚本
27. uptime 系统负载
28. ps 查看进程信息 aux
29. fuser 显示文件被那些进程访问

## mac
01. lipo 富二进制操作 显示信息、合并、编辑
02. nm 显示库符号 
03. xcode插件问题defaults delete com.apple.dt.Xcode DVTPlugInManagerNonApplePlugIns-Xcode-{your_xcode_version} 
04. sysctl 查看内核变量值 -a、debug、hw、kern machdep、net、vfs、vm、user
05. auditd 审计日志在/var/audit praudit可以解析文件 auditreduce 搜索日志
06. dscl 用户和组操作
07. scutil 命令行系统设置
08. syslogd asl_log、asl_*系统日志
09. plutil -convert xml、binary、json 1 文件转换
10. notifyutil 通知 信号 进程通信
11. security 密钥工具 -i
12. csreq
13. codesign 签名     
14. asctl 控制跟踪沙盒
15. file 显示文件信息
16. arch 强制加载二进制中某架构的代码
17. otool Mach-o文件工具 -hV、-lV、-L、-p _main -tV
18. codesign 修改显示代码签名
19. pagestuff -a 显示逻辑页符号
20. vmmap -interleaved 查看进程内存布局
21. vm_stat 显示内核虚拟内存计数
22. defaults 设置系统默认配置
23. dtrace 调试语言 Instruments利用它的脚本实现 -s -n 在内核态执行(/dev/device字符设备与内核通信)
24. dtruss 显示系统调用、参数、返回值 -p -n -s -f
25. system_profiler 系统信息
26. sysdiagnose 系统诊断 命令脚本
27. allmemory 所有进程内存快照 -o 指定文件(/tmp/allmemoryfiles)
28. fs_usage 显示进程与文件、套接字、目录相关的系统调用
29. sc_usage 显示进程的系统调用信息 -l
30. latency 显示进程中断和调度的延迟值 -st -it
31. ulimit 核心转储大小限制 -c 返回0表示不创建
32. spindump 将所有进程当前的调用栈写入日志
33. sample 获取某个进程的快照
34. filtercalltree 处理调用跟踪日志
35. heap 显示堆中分配的缓存区
36. leaks 列出可能的内存泄漏
37. malloc_history 列出每一次内存分配的详细信息

## clan
01. clang -ccc-print-phases *.m 显示编译步骤  
02. clang -E *.c | less 只执行到预处理  
03. clang -Xclang -dump-tokens *.m 语法解析标记
04. clang -Xclang -ast-dump -fsyntax-only *.m 语法树 
05. clang -O3 -emit-llvm *.c -c -o *.bc 二进制码 
06. llvm-dis < hello.bc | less 查看二进制码
07. clang -rewrite-objc *.m 转object 到 c 代码 